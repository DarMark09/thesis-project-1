{% extends "base/admin_base.html" %}

{% block title %}Registered Panels{% endblock title %}

{% block content %}

<div class="container">

    <br>
    <h2 class="text-center" style="margin-bottom: 10px;">Welcome to the Registered Panels page!</h2>
    <hr>
    <p style="font-size: 18px; line-height: 1.5;text-align: justify;">
        This page displays a list of all the registered panels in the system. You can view the panel's history, edit
        their information, or delete them from the system.
    </p>
    <br>
    <table class="table table-bordered mx-auto" id="registeredDatatable">
        <thead bgcolor="grey" style="color: #fff; font-size: 13px;">
            <tr>
                <th style="width: 10%;">Username</th>
                <th style="width: 15%;">Name</th>
                <th style="width: 12%;">Email</th>
                <th style="width: 11%;">Last Login</th>
                <th style="width: 8%;">Actions</th>
            </tr>
        </thead>
        <!--Data from backend-->
        <tbody style="text-align:left;">

            {% for panel in registered_panel  %}
            <tr style="color: black; text-align: left; font-size: 13px;">
                <td>{{ panel.username }}</td>
                <td>{{ panel.first_name }} {{ panel.last_name }}</td>
                <td>{{ panel.email }}</td>
                <td>{{ panel.last_login }}</td>
                <td>
                    <a type="button" class="btn btn-warning btn-actions" id="btn{{panel.id}}" title="actionPanels"
                        data-bs-toggle="modal" data-bs-target="#actionModal{{panel.id}}">
                        <i class="fa-solid fa-eye"></i>
                    </a>
                    <a type="button" class="btn btn-info btn-actions" title="editPanel" data-bs-toggle="modal"
                        data-bs-target="#editPanelModal{{panel.id}}">
                        <i class="fa-solid fa-pen-to-square"></i>
                    </a>
                    <a data-placement="top" data-toggle="tooltip" title="delete"
                        href="/DeleteRegisteredPanel/{{panel.id}}" class="btn btn-danger btn-xs" data-title="Delete"
                        data-toggle="modal" data-target="#delete"><i class="fa-solid fa-trash"></i>
                    </a>
                </td>
            </tr>


            <!-- include (requried here to get the PK)-->
            {% include "accounts/admin/admin_dashboard/panel_actions/actions.html" %}
            {% include "accounts/admin/admin_dashboard/registered_panels/edit_registered_panels.html" %}
            {% endfor %}

        </tbody>
    </table>
    <br>
</div>
{% endblock content %}